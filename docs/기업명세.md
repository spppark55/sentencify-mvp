사용자의 의도를 파악하고, 제공된 파일 1 을 분석하여 기업 데이터 명세를 작성해 드리겠습니다.

사용자 의도: 기업 데이터 명세 작성 (사용자별 사용량, 사용자 클라이언트, 이벤트 데이터 포함)
관련 파일: [북엔드] 공유 데이터 상세 설명.docx
분석 내용:
제공된 파일 2 은 기업 데이터에 대한 상세 설명을 포함하고 있습니다. 이 내용을 바탕으로 사용자별 사용량 데이터, 사용자 클라이언트 데이터, 이벤트 데이터에 대한 스키마를 작성하겠습니다. 특히 이벤트 데이터의 경우, editor_run_paraphrasing, editor_selected_paraphrasing, run_paraphrasing, selected_paraphrasing 등 다양한 이벤트 유형이 존재하며, 각 이벤트별로 공통 속성과 특화 속성이 정의되어 있습니다. 사용자는 D (correction_history) 뿐만 아니라 editor_run_paraphrasing, editor_selected_paraphrasing 에도 Ground Truth가 존재하며, 이를 반영하여 스키마를 작성해달라고 요청했습니다.
데이터 명세 작성 방향:
사용자별 사용량 데이터: users_usage 컬렉션으로 정의 (가칭)
사용자 클라이언트 데이터: users_client 컬렉션으로 정의 (가칭)
이벤트 데이터: 각 이벤트 유형별로 별도 컬렉션 또는 하나의 컬렉션에 event_name 필드를 두고 저장하는 방식을 고려할 수 있으나, 명확한 구분을 위해 주요 이벤트별 스키마를 정의합니다.
event_pageview_ad_inflow
event_editor_run_paraphrasing (B 이벤트 확장)
event_editor_selected_paraphrasing (C 이벤트 확장)
event_run_paraphrasing
event_selected_paraphrasing
event_open_sidepanel
event_tutorial

📊 기업 데이터 명세 (Corporate Data Schema)

이 문서는 기업에서 제공하는 원천 데이터의 스키마를 정의합니다. 기존 아키텍처의 D (correction_history) 외에도 B (실행), C (선택) 이벤트 등 다양한 로그 데이터가 포함되어 있으며, 이는 학습 데이터 구축 및 사용자 분석의 기반이 됩니다.

1. 사용자별 사용량 데이터 (User Usage Data)

Collection Name: corporate_user_usage
Description: 2025년 6월 1일부터 10월 22일까지의 사용자별 서비스 사용량 집계 데이터3.


Field Name
Type
Description
비고
_id
ObjectId
사용자 고유 식별자
MongoDB ObjectId 4


count
Integer
해당 사용자의 총 사용 횟수
5
recent_execution_date
DateTime
가장 최근 사용 날짜
6


2. 사용자 클라이언트 데이터 (User Client Data)

Collection Name: corporate_user_client
Description: Mixpanel을 통해 수집된 웹 기반 사용자 클라이언트 정보7.


Field Name
Type
Description
비고
distinct_id
String
사용자 식별자

$device: (비로그인) 또는 ObjectId (로그인) 8888


properties
Object
사용자 속성 정보
하위 필드 상세 9999


properties.country_code
String
국가 코드
10
properties.region
String
지역
11
properties.city
String
도시
12
properties.timezone
String
시간대
13
properties.browser
String
브라우저 종류
14
properties.browser_version
String
브라우저 버전
15
properties.os
String
운영체제
16
properties.initial_referrer
String
초기 참조자 URL
17
properties.initial_referring_domain
String
초기 참조 도메인
18
properties.initial_utm_campaign
String
UTM 캠페인
19
properties.initial_utm_source
String
UTM 소스
20
properties.$is_google_account
Boolean
구글 로그인 여부
21
properties.$is_kakao_account
Boolean
카카오 로그인 여부
22
properties.last_seen
DateTime
마지막 방문 시간
23


3. 이벤트 데이터 (Event Data)

Description: 2025년 6월 1일부터 10월 20일까지의 Mixpanel 사용자 이벤트 로그24.


Common Fields: 모든 이벤트에 공통적으로 포함되는 속성25.



3.1 공통 속성 (Common Properties)

Field Name
Type
Description
비고
distinct_id
String
사용자 고유 식별자
26
device_id
String
디바이스 고유 식별자
27
user_id
String
로그인한 사용자 ID
Nullable 28


insert_id
String
이벤트 고유 식별자
29
time
Integer
Unix 타임스탬프 (초)
30
mp_api_timestamp_ms
Long
API 수신 타임스탬프 (ms)
31
browser
String
브라우저 종류
32
os
String
운영체제
33
device
String
디바이스 타입
34
current_url
String
현재 페이지 URL
35
referrer
String
리퍼럴 URL
36
mp_country_code
String
국가 코드 (KR 등)
37


3.2 editor_run_paraphrasing & run_paraphrasing (교정 실행)

Description: 웹 에디터 또는 서비스에서 문장 교정을 실행했을 때 발생하는 이벤트38383838. Ground Truth (입력) 데이터 포함.


Field Name
Type
Description
비고
llm_name
String
사용된 AI 모델명
39
llm_provider
String
AI 제공업체
40
maintenance
String
교정 강도 (weak, moderate, strong)
41
target_language
String
교정 도착 언어
42
tone
String
교정 톤 (formal, normal, common)
43
input_sentence_length
Integer
입력 문장 길이
44
field
String
교정 카테고리 (thesis, email 등)
45
platform
String
플랫폼 (desktop, web)
46
trigger
String
실행 트리거 방식
47
response_time_ms
Integer
응답 소요 시간 (ms)
48


3.3 editor_selected_paraphrasing & selected_paraphrasing (교정 선택)

Description: 교정 결과 중 하나를 선택했을 때 발생하는 이벤트49494949. Ground Truth (정답) 데이터 포함.


Field Name
Type
Description
비고
index
Integer
선택된 결과의 인덱스 (1~N)
50
selected_sentence_id
String
선택된 문장의 고유 ID
51
total_paraphrasing_sentence_count
Integer
재실행 횟수 (3의 배수)
52
maintenance
String
(Context) 교정 강도
실행 시점 정보 상속
field
String
(Context) 교정 카테고리
실행 시점 정보 상속
target_language
String
(Context) 도착 언어
실행 시점 정보 상속


3.4 pageview_ad inflow (광고 유입)

Description: 광고를 통해 유입된 경우53535353.


Field Name
Type
Description
비고
gclid
String
Google 광고 클릭 ID
54
medium
String
매체 (cpc 등)
55
source
String
소스 (google 등)
56


3.5 open_sidepanel (사이드 패널 열기)

Description: 사이드 패널을 열었을 때 발생57575757.


Field Name
Type
Description
비고
trigger
String
실행 트리거 (toggle_drawer_icon 등)
58

이 명세서는 기업이 제공하는 원천 데이터(source)를 기준으로 작성되었으며, 우리 시스템(Sentencify)은 이 데이터를 MongoDB에 적재하여 분석 및 모델 학습에 활용합니다. 특히 run 및 selected 이벤트는 사용자 선호도(G)와 학습 데이터(H) 생성의 핵심 소스가 됩니다.

---
# 기업 데이터 명세서: Correction History

**작성일:** 2025-11-25  
**대상 파일:** `data/import/correction_history.json`  
**설명:** 사용자가 교정(Paraphrasing) 서비스를 이용했을 때 생성된 요청 및 처리 이력 데이터.

---

## 1. 데이터 개요 (Overview)

*   **데이터 형식:** JSON List
*   **총 레코드 수:** 4,115건 (EDA 기준)
*   **주요 용도:** 사용자가 입력한 문장, 선택한 옵션(Field, Intensity), 그리고 추가 요구사항(User Prompt)을 기록하여 모델 튜닝 및 사용자 행동 분석에 활용.

---

## 2. 상세 스키마 및 필드 분석 (Schema & Analysis)

### 1) `_id`
*   **타입:** Object ID (MongoDB)
*   **설명:** 레코드 고유 식별자.
*   **예시:** `68f18e36d9d31f8e87d94fd1`

### 2) `created_at`
*   **타입:** Date (ISO 8601)
*   **설명:** 요청 생성 시간.
*   **분석:** 사용자 활동 시간대 파악에 활용 가능.

### 3) `field` (사용자 선택 분야/문맥)
*   **타입:** String (Enum 성격)
*   **설명:** 교정을 요청한 글의 카테고리. 사용자가 어떤 목적(Persona Goal)으로 글을 쓰는지 보여주는 핵심 지표.
*   **값 분포 (빈도순):**
    1.  `none` (미지정): 압도적 비율 (기본값으로 추정).
    2.  `email`: 비즈니스/개인 메일 작성.
    3.  `article`: 블로그, 기사 등 콘텐츠 작성.
    4.  `thesis`: 논문, 학술적 글쓰기.
    5.  `report`: 보고서.
*   **인사이트:** `none`을 제외하면 **Email(비즈니스)**과 **Thesis(학술)**가 가장 뚜렷한 사용자군을 형성함.

### 4) `intensity` (교정 강도)
*   **타입:** String (Enum 성격)
*   **설명:** AI가 문장을 수정하는 강도. (`event_raw` 테이블의 `maintenance` 필드와 대응됨)
*   **주요 값:**
    *   `moderate`: 가장 많이 사용됨 (안전한 교정).
    *   `strong`: 문장 구조를 크게 바꿀 때 사용.
    *   `weak`: 단순 문법 교정 위주.
*   **인사이트:** 사용자는 기본적으로 `moderate`를 선호하나, `strong`을 선택하는 사용자는 명확한 "재작성(Rewriting)" 니즈를 가짐.

### 5) `input_sentence`
*   **타입:** String
*   **설명:** 사용자가 교정을 요청한 원문.
*   **분석:** 개인정보 이슈로 직접적인 분석보다는 길이(Length) 정보만 추출하여 "Short text(채팅/메일)" vs "Long text(논문)" 구분용으로 활용 권장.

### 6) `user_prompt` (사용자 추가 지시사항)
*   **타입:** String (Optional)
*   **설명:** 사용자가 옵션 외에 직접 입력한 구체적인 지시어.
*   **활용률:** 전체의 약 **19%** (779건) 만 존재.
*   **주요 발견 (말뭉치 분석 결과):**
    *   자유 텍스트지만 **정형화된 패턴**이 존재함.
    *   **Top Intents:**
        *   **Tone:** "자연스럽게(Natural)", "정중하게(Polite)"
        *   **Summary:** "짧게(Short)", "요약(Summarize)"
        *   **Task:** "SEO", "Reviewer Reply"
*   **시스템 개선점:** 이 필드의 상위 키워드는 향후 UI의 "Quick Chip(버튼)"으로 대체되어야 함.

### 7) `models`
*   **타입:** Array of Object IDs
*   **설명:** 해당 요청 처리에 관여한 AI 모델 리스트.

---

## 3. 데이터 무결성 및 활용 전략

### 데이터 품질
*   **결측치:** `field`의 `none` 비율이 높음. 페르소나 분류 시 `field=none`인 사용자는 `intensity`나 `input_sentence` 길이, 또는 `user_prompt` 유무로 2차 분류가 필요함.
*   **일관성:** 사용자는 한 세션 내에서 동일한 `field`와 `intensity`를 유지하는 경향(Low Entropy)이 있어, 이를 기준으로 "사용자 태그"를 붙이는 것이 타당함.

### 분석 활용 전략 (Mapping Strategy)
이 데이터를 활용하여 다음과 같이 페르소나를 매핑할 수 있음.

| 필드 조합 (Field + Intensity) | 예상 페르소나 | 특징 |
| :--- | :--- | :--- |
| `thesis` + `strong` | **The Academic (학술 연구자)** | 논문 문체 교정, Reviewer 대응 |
| `email` + `moderate` | **The Communicator (비즈니스맨)** | 정중한 메일 작성, 빠른 교정 |
| `article` + `strong` | **The Creator (마케터/작가)** | SEO, 독자를 끄는 문체(Hook) |
| `none` + `user_prompt(short)` | **The Efficiency Seeker (효율 추구자)** | 요약, 짧게 쓰기 기능 선호 |
